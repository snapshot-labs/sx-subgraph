specVersion: 0.0.2
schema:
  file: ./schema.graphql
dataSources:
  - kind: ethereum
    name: SpaceFactory
    network: goerli
    source:
      address: '0xf8d933026b7bD549314A31E6c5b2616c631A9E87'
      abi: SpaceFactory
      startBlock: 8501860
    mapping:
      kind: ethereum/events
      apiVersion: 0.0.5
      language: wasm/assemblyscript
      entities:
        - SpaceCreated
      abis:
        - name: SpaceFactory
          file: ./abis/SpaceFactory.json
      eventHandlers:
        - event: SpaceCreated(address,address,uint32,uint32,uint32,uint256,uint256,(address,bytes)[],address[],address[])
          handler: handleSpaceCreated
      file: ./src/mapping.ts
templates:
  - kind: ethereum
    name: Space
    network: goerli
    source:
      abi: Space
    mapping:
      kind: ethereum/events
      apiVersion: 0.0.5
      language: wasm/assemblyscript
      entities:
        - ProposalCreated
        - VoteCreated
        - MetadataUriUpdated
      abis:
        - name: Space
          file: ./abis/Space.json
      eventHandlers:
        - event: ProposalCreated(uint256,address,(uint256,uint32,uint32,uint32,uint32,bytes32,address,uint8),string,bytes)
          handler: handleProposalCreated
        - event: VoteCreated(uint256,address,(uint8,uint256))
          handler: handleVoteCreated
        - event: MetadataUriUpdated(string)
          handler: handleMetadataUriUpdated
      file: ./src/mapping.ts
