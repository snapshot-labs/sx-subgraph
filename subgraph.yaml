specVersion: 0.0.2
schema:
  file: ./schema.graphql
dataSources:
  - kind: ethereum
    name: SpaceFactory
    network: goerli
    source:
      address: '0xfC38E50eA8fc64Fb68B9fece13b16404B8D43864'
      abi: SpaceFactory
      startBlock: 8577681
    mapping:
      kind: ethereum/events
      apiVersion: 0.0.5
      language: wasm/assemblyscript
      entities:
        - SpaceCreated
      abis:
        - name: SpaceFactory
          file: ./abis/SpaceFactory.json
        - name: IExecutionStrategy
          file: ./abis/IExecutionStrategy.json
      eventHandlers:
        - event: SpaceCreated(address,address,uint32,uint32,uint32,uint256,string,(address,bytes)[],bytes[],address[],(address,bytes)[])
          handler: handleSpaceCreated
      file: ./src/mapping.ts
templates:
  - kind: ethereum
    name: Space
    network: goerli
    source:
      abi: Space
    mapping:
      kind: ethereum/events
      apiVersion: 0.0.5
      language: wasm/assemblyscript
      entities:
        - ProposalCreated
        - VoteCreated
        - MetadataUriUpdated
      abis:
        - name: Space
          file: ./abis/Space.json
      eventHandlers:
        - event: ProposalCreated(uint256,address,(uint32,uint32,uint32,uint32,bytes32,(address,bytes),address,uint8,(address,bytes)[]),string,bytes)
          handler: handleProposalCreated
        - event: ProposalExecuted(uint256)
          handler: handleProposalExecuted
        - event: VoteCreated(uint256,address,(uint8,uint256),string)
          handler: handleVoteCreated
        - event: MetadataUriUpdated(string)
          handler: handleMetadataUriUpdated
      file: ./src/mapping.ts
